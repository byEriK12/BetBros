<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BetBros - Registro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</head>
<body>

  <nav class="main-navbar d-flex align-items-center justify-content-between px-4 py-3">
    <div class="d-flex align-items-center">
      <img src="images/logos/logo_final.png" alt="Logo BetBros" width="54" height="54" class="me-3 logo-navbar">
      <span class="brand-title">
        <span class="text-verde-betbros">Bet</span><span class="text-gold-betbros">Bros</span>
      </span>
    </div>
    <div class="navbar-btns">
      <button class="navbar-btn navbar-btn-green" onclick="showRegister()">
        <i class="fa-solid fa-user-plus me-2"></i>Regístrate
      </button>
      <button class="navbar-btn navbar-btn-outline" onclick="goTo('login.html')">
        <i class="fa-solid fa-right-to-bracket me-2"></i>Iniciar sesión
      </button>
    </div>
  </nav>

  <div>
    <div class="container mt-5" style="max-width: 500px;">
      <h2 class="text-center mb-4">Regístrate en BetBros</h2>
      <form id="registerForm">
        <div class="mb-3">
          <label for="username" class="form-label">Nombre de usuario</label>
          <input type="text" class="form-control" id="username" required>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Correo electrónico</label>
          <input type="email" class="form-control" id="email" required>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Contraseña</label>
          <input type="password" class="form-control" id="password" required>
        </div>
        <div class="mb-3">
          <label for="confirmPassword" class="form-label">Confirmar contraseña</label>
          <input type="password" class="form-control" id="confirmPassword" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Elige tu mascota</label>
          <div class="avatar-carousel-container">
            <button type="button" class="avatar-arrow avatar-arrow-left" id="avatarPrev" aria-label="Anterior">&#8592;</button>
            <div class="avatar-carousel" id="avatar-carousel">
              <img src="images/avatar/dargon.png" alt="Dargon" class="avatar-option" id="currentAvatarImg">
            </div>
            <button type="button" class="avatar-arrow avatar-arrow-right" id="avatarNext" aria-label="Siguiente">&#8594;</button>
            <input type="hidden" name="avatar" id="selectedAvatar" value="dargon.png" required>
            <div id="avatar-error" style="display:none;color:red;width:100%">Alguna imagen de mascota no se encuentra en la carpeta <b>public/images/avatar</b>.</div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary w-100">Registrarse</button>
        <button type="button" class="btn btn-secondary w-100 mt-2" onclick="loadInicio()">Volver</button>
      </form>
    </div>
  </div>

  <footer class="text-center py-4 bet-footer">
    <small>BetBros &copy; 2024 · Apuestas sociales entre amigos</small>
  </footer>

  <script src="scripts/main.js"></script>
  <script>
    // Carousel de avatares
    const avatars = [
      { src: 'images/avatar/dargon.png', value: 'dargon.png', alt: 'Dargon' },
      { src: 'images/avatar/gallo.png', value: 'gallo.png', alt: 'Gallo' },
      { src: 'images/avatar/gato.png', value: 'gato.png', alt: 'Gato' },
      { src: 'images/avatar/mono.png', value: 'mono.png', alt: 'Mono' },
      { src: 'images/avatar/perro.png', value: 'perro.png', alt: 'Perro' },
      { src: 'images/avatar/pinguino.png', value: 'pinguino.png', alt: 'Pinguino' }
    ];
    let currentAvatar = 0;
    const avatarImg = document.getElementById('currentAvatarImg');
    const selectedAvatar = document.getElementById('selectedAvatar');
    const avatarError = document.getElementById('avatar-error');
    document.getElementById('avatarPrev').onclick = function() {
      currentAvatar = (currentAvatar - 1 + avatars.length) % avatars.length;
      updateAvatar();
    };
    document.getElementById('avatarNext').onclick = function() {
      currentAvatar = (currentAvatar + 1) % avatars.length;
      updateAvatar();
    };
    function updateAvatar() {
      avatarImg.src = avatars[currentAvatar].src;
      avatarImg.alt = avatars[currentAvatar].alt;
      selectedAvatar.value = avatars[currentAvatar].value;
      avatarError.style.display = 'none';
    }
    avatarImg.onerror = function() {
      avatarError.style.display = 'block';
    };
  </script>
</body>
</html>